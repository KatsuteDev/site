<!DOCTYPE html><html lang="en" class="flex min-h-full bg-slate-800"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="The MTA Bus and Subway APIs all in one Java library."> <title>katsute.dev - OneMTA</title> <link rel="canonical" href="https://katsute.dev/product/onemta"> <meta property="og:locale" content="en_US"> <meta property="og:type" content="website"> <meta name="og:title" content="OneMTA"> <meta name="og:description" content=""> <meta name="og:site_name" content="Katsute"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "WebSite", "url": "https://katsute.dev", "logo": "https://katsute.dev/favicon.png", "name": "OneMTA", "description": "" } </script> <link rel="icon" type="image/png" href="icon.png"> <link rel="stylesheet" href="/dependencies/node/fontawesome/css/all.min.css"> <script defer src="/dependencies/node/fontawesome/js/all.min.js"></script> <link rel="stylesheet" href="/dependencies/node/highlight.js/css/github-dark.css"> <link rel="stylesheet" href="/dependencies/katsute/css/style.css"> </head> <body class="flex flex-col min-h-full w-full overflow-auto"> <div class="container mx-auto max-w-screen-xl flex flex-col md:flex-row h-full"> <div class="relative bg-slate-900 md:before:absolute md:before:bg-slate-900 md:before:w-screen md:before:h-full md:before:left-[-99vw] md:before:-z-10 [&>*]:p-4"> <nav class="min-w-[250px] sticky top-0 space-y-2"> <div class="flex justify-center"> <a class="p-1.5 rounded-md hover:bg-slate-800 ease-in-out duration-300" href="/"> <img src="/favicon.png" alt="logo" class="w-[70px] md:w-[150px] aspect-square rounded-md select-none"> </a> </div> <div> <a href="/"> <h1 class="text-white text-center text-2xl md:text-lg font-semibold">Keith Chiu</h1> </a> </div> <ul class="space-y-2 text-slate-300"> <li> <a href="/"> <div class="p-2 hover:bg-slate-800 ease-in-out duration-300 rounded-md "> <p> <i class="fa-solid fa-house fa-fw mr-1"></i> Home </p> </div> </a> </li> <li> <a href="/products"> <div class="p-2 hover:bg-slate-800 ease-in-out duration-300 rounded-md "> <p> <i class="fa-solid fa-code fa-fw mr-1"></i> Products </p> </div> </a> </li> <li> <a href="/projects"> <div class="p-2 hover:bg-slate-800 ease-in-out duration-300 rounded-md "> <p> <i class="fa-solid fa-box-archive fa-fw mr-1"></i> Projects </p> </div> </a> </li> <li> <a href="/courses"> <div class="p-2 hover:bg-slate-800 ease-in-out duration-300 rounded-md "> <p> <i class="fa-solid fa-graduation-cap fa-fw mr-1"></i> Courses </p> </div> </a> </li> </ul> </nav> </div> <div class="flex flex-col grow [&>*]:px-4 py-4 space-y-4"> <div class="flex justify-end"> <ul class="text-white"> <li class="inline-block ml-2"> <a href="https://github.com/Katsute" rel="noopener noreferrer"> <div class="p-2 rounded-md hover:bg-slate-900 ease-in-out duration-300"> <i class="fa-brands fa-github fa-fw fa-lg"></i> </div> </a> </li> <li class="inline-block ml-2"> <a href="https://www.linkedin.com/in/keith-chiu" rel="noopener noreferrer"> <div class="p-2 rounded-md hover:bg-slate-900 ease-in-out duration-300"> <i class="fa-brands fa-linkedin fa-fw fa-lg"></i> </div> </a> </li> </ul> </div> <main class="grow"> <div class="flex flex-col lg:flex-row lg:space-x-4"> <div class="flex flex-col space-y-4 w-full"> <article id="readme" class="markdown w-full"> <div id="top" align="center"> <a href="https://github.com/KatsuteDev/OneMTA"> <img src="https://raw.githubusercontent.com/KatsuteDev/OneMTA/main/assets/icon.png" alt="icon" width="100" height="100"> </a> <h3>OneMTA</h3> <h5>Java wrapper for the MTA Bus and Subway API</h5> <div> <a href="https://docs.katsute.dev/onemta">Documentation</a> • <a href="https://new.mta.info/developers">MTA Developer Resources</a> • <a href="https://groups.google.com/g/mtadeveloperresources">MTA Google Group</a> <br> <a href="https://mvnrepository.com/artifact/dev.katsute/onemta">Maven Central</a> • <a href="https://github.com/KatsuteDev/OneMTA/packages/1221214">GitHub Packages</a> • <a href="https://github.com/KatsuteDev/OneMTA/releases">Releases</a> </div> </div> <br> <blockquote> <p>⚠️ The MTA API <a href="https://new.mta.info/developers/terms-and-conditions">Terms and Conditions</a> prohibits developers from giving users direct access to MTA servers. Any realtime data that is retrieved in this library <strong>must be served to users on your own servers.</strong></p> </blockquote> <p>OneMTA is a Java wrapper for the <a href="https://bustime.mta.info/wiki/Developers/SIRIIntro">MTA SIRI REST API</a> and <a href="https://api.mta.info/">MTA Realtime GTFS API</a>.</p> <h2 id="installation">Installation</h2> <p>OneMTA requires at least Java 8.</p> <p>OneMTA also requires the <a href="https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java">protobuf-java</a> library to be installed. Make sure you are using the same version as specified in the <a href="https://github.com/KatsuteDev/OneMTA/blob/main/pom.xml">pom.xml</a> file.</p> <p>Compiled binaries can be installed from:</p> <ul> <li><a href="https://mvnrepository.com/artifact/dev.katsute/onemta">Maven Central</a></li> <li><a href="https://github.com/KatsuteDev/OneMTA/packages/1221214">GitHub Packages</a></li> <li><a href="https://github.com/KatsuteDev/OneMTA/releases">Releases</a></li> </ul> <h4 id="authentication">Authentication</h4> <ol> <li><p>Request a bus token at <a href="https://bt.mta.info/wiki/Developers/Index">https://bt.mta.info/wiki/Developers/Index</a>.</p> </li> <li><p>OneMTA requires static data from the MTA for most route and stop information. Latest static data for the MTA is available at <a href="https://new.mta.info/developers">https://new.mta.info/developers</a>.</p> <p>Static data is only required for the endpoints you are using. All boroughs are required for buses, including bus company.</p> <p><a href="https://new.mta.info/developers"><img src="https://raw.githubusercontent.com/KatsuteDev/OneMTA/main/assets/static-gtfs-data.png" alt="static datafeeds"></a></p> </li> <li><p>Initialize OneMTA</p> <pre><code class="hljs language-java"><span class="hljs-type">MTA</span> <span class="hljs-variable">mta</span> <span class="hljs-operator">=</span> MTA.create(
    busToken,
    DataResource.create(DataResourceType.Bus_Bronx, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_bronx.zip&quot;</span>)),
    DataResource.create(DataResourceType.Bus_Brooklyn, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_brooklyn.zip&quot;</span>)),
    DataResource.create(DataResourceType.Bus_Manhattan, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_manhattan.zip&quot;</span>)),
    DataResource.create(DataResourceType.Bus_Queens, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_queens.zip&quot;</span>)),
    DataResource.create(DataResourceType.Bus_StatenIsland, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_staten_island.zip&quot;</span>)),
    DataResource.create(DataResourceType.Bus_Company, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_bus_company.zip&quot;</span>)),
    DataResource.create(DataResourceType.Subway, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_subway.zip&quot;</span>)),
    DataResource.create(DataResourceType.LongIslandRailroad, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_lirr.zip&quot;</span>)),
    DataResource.create(DataResourceType.MetroNorthRailroad, <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;google_transit_mnr.zip&quot;</span>))
);
</code></pre></li> </ol> <div align="right"><a href="#top"><code>▲</code></a></div> <h2 id="features">Features</h2> <h4 id="routes">Routes</h4> <p>Retrieve routes along with alerts and vehicles on the route.</p> <pre><code class="hljs language-java">Bus.<span class="hljs-type">Route</span> <span class="hljs-variable">M1</span>    <span class="hljs-operator">=</span> mta.getBusRoute(<span class="hljs-string">&quot;M1&quot;</span>, DataResourceType.Bus_Manhattan);
Subway.<span class="hljs-type">Route</span> <span class="hljs-variable">SI</span> <span class="hljs-operator">=</span> mta.getSubwayRoute(<span class="hljs-string">&quot;SI&quot;</span>);
LIRR.<span class="hljs-type">Route</span> <span class="hljs-variable">PW</span>   <span class="hljs-operator">=</span> mta.getLIRRRoute(<span class="hljs-number">9</span>);
MNR.<span class="hljs-type">Route</span> <span class="hljs-variable">HM</span>    <span class="hljs-operator">=</span> mta.getMNRRoute(<span class="hljs-number">2</span>);
</code></pre><h4 id="stops">Stops</h4> <p>Retrieve stops with alerts and vehicles en route.</p> <pre><code class="hljs language-java">Bus.<span class="hljs-type">Stop</span> <span class="hljs-variable">stop</span>   <span class="hljs-operator">=</span> mta.getBusStop(<span class="hljs-number">400561</span>);
Subway.<span class="hljs-type">Stop</span> <span class="hljs-variable">GCT</span> <span class="hljs-operator">=</span> mta.getSubwayStop(<span class="hljs-string">&quot;631&quot;</span>);
LIRR.<span class="hljs-type">Stop</span> <span class="hljs-variable">FLS</span>   <span class="hljs-operator">=</span> mta.getLIRRStop(<span class="hljs-string">&quot;FLS&quot;</span>);
MNR.<span class="hljs-type">Stop</span> <span class="hljs-variable">WLN</span>    <span class="hljs-operator">=</span> mta.getMNRStop(<span class="hljs-string">&quot;1WN&quot;</span>);
</code></pre><h4 id="vehicles">Vehicles</h4> <p>Retrieve live vehicle information from stops and routes.</p> <pre><code class="hljs language-java">Bus.Vehicle[] bus       = stop.getVehicles();
Subway.Vehicle[] subway = SI.getVehicles();
LIRR.Vehicle[] lirr     = PW.getVehicles();
MNR.Vehicle[] mnr       = WLN.getVehicles();
</code></pre><h4 id="alerts">Alerts</h4> <p>Retrieve alerts for all stops and routes.</p> <pre><code class="hljs language-java">Bus.Alert[] busAlerts       = mta.getBusAlerts();
Subway.Alert[] subwayAlerts = SI.getAlerts();
LIRR.Alert[] lirrAlerts     = FLS.getAlerts();
MNR.Alert[] mnrAlerts       = mta.getMNRAlerts();
</code></pre><div align="right"><a href="#top"><code>▲</code></a></div> <h2 id="contributing">Contributing</h2> <p>Sample response data available on the <a href="https://github.com/KatsuteDev/OneMTA/tree/reference"><code>reference</code></a> branch.</p> <h4 id="updating-protobuf-files">Updating Protobuf Files</h4> <ol> <li><p>Run <code>install.sh</code></p> <p>or</p> <p>Install <a href="https://github.com/protocolbuffers/protobuf/releases">protobuf</a> and <a href="https://github.com/OneBusAway/onebusaway-gtfs-realtime-api/tree/master/src/main/proto/com/google/transit/realtime">gtfs realtime proto</a> manually</p> </li> <li><p>Run <code>protobuf.sh</code></p> </li> </ol> <h4 id="notice-about-tests">Notice About Tests</h4> <ul> <li>Tests are most reliable around rush hour.</li> <li>Tests may not work during overnight hours.</li> <li>Route tests may not work if the selected routes are out of service.</li> <li>Stop tests may not work it the selected stops are out of service.</li> <li>Alert tests may not work if no alerts are active.</li> </ul> <h4 id="running-tests-locally">Running Tests Locally</h4> <p>For local tests you can use Java 8+, however only methods in the Java 8 API may be used. The <code>src/main/java9</code> folder should not be marked as a source root.</p> <ul> <li>You must run <code>install.sh</code> to initialize test resources.</li> <li>(Bus) Run tests locally by adding a text file named <code>bus.txt</code> that contains the bus token in the <code>src/test/java/resources</code> directory.</li> </ul> <h4 id="running-tests-using-github-actions">Running Tests using GitHub Actions</h4> <p>Developers running remote tests through GitHub Actions may do so by running the <code>MTA CI</code> workflow manually in the actions tab of your fork. Note that this requires a single secret, a <code>BUS_TOKEN</code> which contains the bus token.</p> <div align="right"><a href="#top"><code>▲</code></a></div> <h2 id="">&nbsp;</h2> <p>This library is released under the <a href="https://github.com/KatsuteDev/OneMTA/blob/main/LICENSE">GNU General Public License (GPL) v2.0</a>.</p> <ul> <li><p><a href="https://github.com/Katsute">@Katsute</a> and <a href="https://github.com/KatsuteDev">@KatsuteDev</a> are not affiliated with the MTA.</p> </li> <li><p>By using the MTA API you are subject to their <a href="https://new.mta.info/developers/terms-and-conditions">Terms and Conditions</a>.</p> <blockquote> <p>In developing your app, you will provide that the MTA data feed is available to others only from a non-MTA server. Accordingly, you will download and store the MTA data feed on a non-MTA server which users of your App will access in order to obtain data. MTA prohibits the development of an app that would make the data available to others directly from MTA&#39;s server(s).</p> </blockquote> </li> </ul> </article> <script> for(const element of document.querySelectorAll("#readme source[media]")){ element.setAttribute("media", "(prefers-color-scheme: light),(prefers-color-scheme: dark)"); }; for(const image of document.querySelectorAll("#readme img[src]")){ image.onerror = () => image.style.display = "none"; }; </script> <div class="rounded-md bg-slate-900 p-4 text-white"> <h2 id="development" class="font-semibold text-lg mb-2">Development</h2> <dl class="grid grid-cols-1 md:grid-cols-3 gap-4 [&>div]:flex [&>div]:flex-col [&>div]:space-y-1 [&_dt]:font-semibold [&_dd]:text-slate-300"> <div class="col-span-full"> <dt>Role</dt> <dd >Developer & Maintainer</dd> </div> <div > <dt>Started</dt> <dd >November 2021</dd> </div> <div > <dt>Completed</dt> <dd >February 2022</dd> </div> <div > <dt>Last Updated</dt> <dd >December 2024</dd> </div> <div class="col-span-full"> <dt>Description</dt> <dd class="markdown"><p>In order to create applications and systems dependent on the MTA API, this library was created to simply the usage of the <a href="https://bustime.mta.info/wiki/Developers/SIRIIntro">MTA Bus REST API</a> and the <a href="https://api.mta.info/">MTA Subway Realtime GTFS API</a>. Condenses these two poorly documented APIs into a singular, well documented Java library.</p> </dd> </div> <div > <dt>Status</dt> <dd >Maintenance</dd> </div> <hr class="col-span-full border-slate-800"> <div> <dt>Built with</dt> <dd> <ul class="space-y-2"> <li class="flex flex-row items-center"> <img src="/dependencies/node/simpleicons/assets/../../../katsute/assets/java.svg" class="select-none mr-2 w-5 h-5"> Java </li> <li class="flex flex-row items-center"> <img src="/dependencies/node/simpleicons/assets/apachemaven.svg" class="select-none mr-2 w-5 h-5"> Apache Maven </li> </ul> </dd> </div> <div> <dt>Built using</dt> <dd> <ul class="space-y-2"> <li class="flex flex-row items-center"> <img src="/dependencies/node/simpleicons/assets/intellijidea.svg" class="select-none mr-2 w-5 h-5"> IntelliJ IDEA </li> <li class="flex flex-row items-center"> <img src="/dependencies/node/simpleicons/assets/github.svg" class="select-none mr-2 w-5 h-5"> GitHub </li> <li class="flex flex-row items-center"> <img src="/dependencies/node/simpleicons/assets/githubactions.svg" class="select-none mr-2 w-5 h-5"> GitHub Actions </li> </ul> </dd> </div> <div> <dt>Built for</dt> <dd> <ul class="space-y-2"> <li class="flex flex-row items-center"> <img src="/dependencies/node/simpleicons/assets/../../../katsute/assets/java.svg" class="select-none mr-2 w-5 h-5"> Java </li> </ul> </dd> </div> </dl> </div> <div class="rounded-md bg-slate-900 p-4 text-white"> <h2 id="downloads" class="font-semibold text-lg mb-2">Downloads</h2> <ul class="divide-y divide-slate-800 border border-slate-800 rounded-md"> <li class="[&>a>div]:first:rounded-t-md [&>a>div]:last:rounded-b-md"> <a href="https://github.com/KatsuteDev/OneMTA/releases/download/3.0.3/onemta-3.0.3.jar" rel="noopener noreferrer"> <div class="flex flex-row justify-between items-center px-4 py-2 hover:bg-slate-800 ease-in-out duration-300"> <div class="flex flex-row items-center"> <i class="fa-solid fa-link fa-fw mr-1"></i> <p>Jar</p> </div> <p class="font-semibold text-blue-400"> Download </p> </div> </a> </li> <li class="[&>a>div]:first:rounded-t-md [&>a>div]:last:rounded-b-md"> <a href="https://github.com/KatsuteDev/OneMTA/releases/download/3.0.3/onemta-3.0.3-sources.jar" rel="noopener noreferrer"> <div class="flex flex-row justify-between items-center px-4 py-2 hover:bg-slate-800 ease-in-out duration-300"> <div class="flex flex-row items-center"> <i class="fa-solid fa-link fa-fw mr-1"></i> <p>Sources</p> </div> <p class="font-semibold text-blue-400"> Download </p> </div> </a> </li> <li class="[&>a>div]:first:rounded-t-md [&>a>div]:last:rounded-b-md"> <a href="https://github.com/KatsuteDev/OneMTA/releases/download/3.0.3/onemta-3.0.3-javadoc.jar" rel="noopener noreferrer"> <div class="flex flex-row justify-between items-center px-4 py-2 hover:bg-slate-800 ease-in-out duration-300"> <div class="flex flex-row items-center"> <i class="fa-solid fa-link fa-fw mr-1"></i> <p>Javadoc</p> </div> <p class="font-semibold text-blue-400"> Download </p> </div> </a> </li> <li class="[&>a>div]:first:rounded-t-md [&>a>div]:last:rounded-b-md"> <a href="https://github.com/KatsuteDev/OneMTA/releases" rel="noopener noreferrer"> <div class="flex flex-row justify-between items-center px-4 py-2 hover:bg-slate-800 ease-in-out duration-300"> <div class="flex flex-row items-center"> <p>GitHub Releases</p> </div> <p class="font-semibold text-blue-400"> <i class="fa-solid fa-angles-right"></i> </p> </div> </a> </li> <li class="[&>a>div]:first:rounded-t-md [&>a>div]:last:rounded-b-md"> <a href="https://github.com/KatsuteDev/OneMTA/packages/1221214" rel="noopener noreferrer"> <div class="flex flex-row justify-between items-center px-4 py-2 hover:bg-slate-800 ease-in-out duration-300"> <div class="flex flex-row items-center"> <p>GitHub Packages</p> </div> <p class="font-semibold text-blue-400"> <i class="fa-solid fa-angles-right"></i> </p> </div> </a> </li> <li class="[&>a>div]:first:rounded-t-md [&>a>div]:last:rounded-b-md"> <a href="https://mvnrepository.com/artifact/dev.katsute/onemta" rel="noopener noreferrer"> <div class="flex flex-row justify-between items-center px-4 py-2 hover:bg-slate-800 ease-in-out duration-300"> <div class="flex flex-row items-center"> <p>Maven Central</p> </div> <p class="font-semibold text-blue-400"> <i class="fa-solid fa-angles-right"></i> </p> </div> </a> </li> </ul> </div> </div> <div class="shrink-0 order-first lg:order-last lg:w-[250px] mb-4"> <div class="sticky top-4 space-y-4"> <div class="rounded-md bg-slate-900 p-4"> <ul class="space-y-2"> <li> <a class="flex flex-row items-center group" href="https://github.com/KatsuteDev/OneMTA/" rel="noopener noreferrer"> <i class="fa fa-brands fa-github fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> Repository </p> </a> </li> <hr class="border-slate-800"> <li> <a class="flex flex-row items-center group" href="#readme" rel="noopener noreferrer"> <i class="fa fa-solid fa-circle-info fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> README </p> </a> </li> <li> <a class="flex flex-row items-center group" href="#development" rel="noopener noreferrer"> <i class="fa fa-solid fa-code fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> Development </p> </a> </li> <li> <a class="flex flex-row items-center group" href="#downloads" rel="noopener noreferrer"> <i class="fa fa-solid fa-cloud-arrow-down fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> Downloads </p> </a> </li> <hr class="border-slate-800"> <li> <a class="flex flex-row items-center group" href="https://github.com/KatsuteDev/OneMTA/issues" rel="noopener noreferrer"> <i class="fa fa-solid fa-circle-exclamation fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> Issues </p> </a> </li> <li> <a class="flex flex-row items-center group" href="https://github.com/KatsuteDev/OneMTA/pulls" rel="noopener noreferrer"> <i class="fa fa-solid fa-code-pull-request fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> Pulls </p> </a> </li> <li> <a class="flex flex-row items-center group" href="https://github.com/KatsuteDev/OneMTA/releases" rel="noopener noreferrer"> <i class="fa fa-solid fa-tag fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> Releases </p> </a> </li> <li> <a class="flex flex-row items-center group" href="https://github.com/KatsuteDev/OneMTA/blob/main/LICENSE" rel="noopener noreferrer"> <i class="fa fa-solid fa-scale-balanced fa-fw text-white"></i> <p class="text-blue-400 group-hover:underline ml-2"> License </p> </a> </li> </ul> </div> <div class="rounded-md font-medium bg-[#181717]/[.25] text-white border border-transparent hover:border-white ease-in-out duration-300"> <a href="https://github.com/Katsute" rel="noopener noreferrer"> <div class="px-4 py-2 flex items-center"> <span class="flex justify-center items-center w-6 h-6 py-1 text-white"> <i class="fa-brands fa-github fa-lg"></i> </span> <p class="ml-2">View on GitHub</p> </div> </a> </div> </div> </div> </div></main> <footer class="flex flex-end"> <p class="text-sm text-slate-500">Copyright © 2025 Keith Chiu</p> </footer> </div> </div> <script> </script> </body> </html>